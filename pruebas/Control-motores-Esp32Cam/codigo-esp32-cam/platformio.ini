
; -----------------------------------------------------------------------
; Entorno opcional: usa esptool directamente (no auto-reset). Flujo:
; 1) Conecta IO0 -> GND, alimenta el módulo.
; 2) Pulsa RESET (EN) para entrar en bootloader.
; 3) En VSCode/PlatformIO selecciona "esp32cam_manual" y pulsa Upload.
; 4) Cuando termine, quita IO0 de GND y resetea el módulo para ejecutar.
; Reemplaza COM5 por tu puerto si es necesario.
; -----------------------------------------------------------------------
[env:esp32cam_manual]
platform = espressif32@5.4.0
board = esp32cam
framework = arduino

lib_deps = 
    https://github.com/espressif/esp32-camera.git

monitor_speed = 115200
upload_port = COM5        ; reemplaza COM5 por el puerto correcto del adaptador
upload_speed = 115200
upload_protocol = esptool

; Si usas un adaptador USB-Serial que soporta DTR/RTS (auto-reset), puedes habilitar flags:
; upload_flags =
;   --before default_reset
;   --after hard_reset
; NO habilites esos flags si usas Arduino Uno como pasarela (pueden provocar errores).
;
; Flujo recomendado cuando NO hay auto-reset (Arduino Uno):
; 1) Conecta IO0 -> GND y alimenta el ESP32-CAM.
; 2) Pulsa RESET (EN) para entrar en bootloader.
; 3) En PlatformIO selecciona "esp32cam_manual" y pulsa Upload.
; 4) Al finalizar, quita IO0 de GND y resetea para ejecutar.

build_flags = 
    -DCORE_DEBUG_LEVEL=0
    -DCONFIG_CAMERA_CORE0_INTERRUPT_DISABLED=0

board_build.partitions = huge_app.csv


